<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Dashboard | Combs Salon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body style="font-family: Arial; background:#f5f5f5; padding:20px;">

<h2>ðŸ“‹ Bookings</h2>
<hr>

<div id="bookings">Loading bookings...</div>

<script>
/* ðŸ” Protect dashboard */
if (!localStorage.getItem("isAdmin")) {
  alert("Unauthorized access");
  window.location.href = "admin.html";
}

/* ðŸ“¡ Fetch bookings */
fetch("https://saloon-backend-plfu.onrender.com/api/bookings")
  .then(res => res.json())
  .then(data => {
    if (data.length === 0) {
      document.getElementById("bookings").innerHTML =
        "<p>No bookings yet</p>";
      return;
    }

    document.getElementById("bookings").innerHTML =
      data.map(b => `
        <div style="background:#fff; padding:10px; margin-bottom:10px; border-radius:5px;">
          <strong>Name:</strong> ${b.name}<br>
          <strong>Email:</strong> ${b.email}<br>
          <strong>Service:</strong> ${b.service}<br>
          <strong>Date:</strong> ${new Date(b.date).toDateString()}
        </div>
      `).join("");
  })
  .catch(() => {
    document.getElementById("bookings").innerHTML =
      "<p style='color:red'>Failed to load bookings</p>";
  });
</script>

</body>
</html>

